(function(e){function t(t){for(var r,o,n=t[0],d=t[1],c=t[2],l=0,u=[];l<n.length;l++)o=n[l],s[o]&&u.push(s[o][0]),s[o]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);h&&h(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],r=!0,n=1;n<i.length;n++){var d=i[n];0!==s[d]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var r={},s={app:0},a=[];function o(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=r,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(i,r,function(t){return e[t]}.bind(null,r));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var h=d;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);var r=i("1786");const s=["width","height","src","autoplay","playsinline"];function a(e,t,i,a,o,n){return Object(r["b"])(),Object(r["a"])("video",{ref:"video",width:i.width,height:i.height,src:o.source,autoplay:i.autoplay,playsinline:i.playsinline},null,8,s)}var o={name:"VueWebCam",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:500},autoplay:{type:Boolean,default:!0},screenshotFormat:{type:String,default:"image/jpeg"},selectFirstDevice:{type:Boolean,default:!1},deviceId:{type:String,default:null},playsinline:{type:Boolean,default:!0},resolution:{type:Object,default:null,validator:e=>e.height&&e.width}},data(){return{source:null,canvas:null,camerasListEmitted:!1,cameras:[]}},watch:{deviceId:function(e){this.changeCamera(e)}},mounted(){this.setupMedia()},beforeDestroy(){this.stop()},methods:{legacyGetUserMediaSupport(){return e=>{let t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;return t?new Promise((function(i,r){t.call(navigator,e,i,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}},setupMedia(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=this.legacyGetUserMediaSupport()),this.testMediaAccess()},loadCameras(){navigator.mediaDevices.enumerateDevices().then(e=>{for(let t=0;t!==e.length;++t){let i=e[t];"videoinput"===i.kind&&this.cameras.push(i)}}).then(()=>{this.camerasListEmitted||(this.selectFirstDevice&&this.cameras.length>0&&(this.deviceId=this.cameras[0].deviceId),this.$emit("cameras",this.cameras),this.camerasListEmitted=!0)}).catch(e=>this.$emit("notsupported",e))},changeCamera(e){this.stop(),this.$emit("camera-change",e),this.loadCamera(e)},loadSrcStream(e){"srcObject"in this.$refs.video?this.$refs.video.srcObject=e:this.source=window.HTMLMediaElement.srcObject(e),this.$refs.video.onloadedmetadata=()=>{this.$emit("video-live",e)},this.$emit("started",e)},stopStreamedVideo(e){let t=e.srcObject,i=t.getTracks();i.forEach(e=>{e.stop(),this.$emit("stopped",t),this.$refs.video.srcObject=null,this.source=null})},stop(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.stopStreamedVideo(this.$refs.video)},start(){this.deviceId&&this.loadCamera(this.deviceId)},pause(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.$refs.video.pause()},resume(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.$refs.video.play()},testMediaAccess(){let e={video:!0};this.resolution&&(e.video={},e.video.height=this.resolution.height,e.video.width=this.resolution.width),navigator.mediaDevices.getUserMedia(e).then(e=>{let t=e.getTracks();t.forEach(e=>{e.stop()}),this.loadCameras()}).catch(e=>this.$emit("error",e))},loadCamera(e){let t={video:{deviceId:{exact:e}}};this.resolution&&(t.video.height=this.resolution.height,t.video.width=this.resolution.width),navigator.mediaDevices.getUserMedia(t).then(e=>this.loadSrcStream(e)).catch(e=>this.$emit("error",e))},capture(){return this.getCanvas().toDataURL(this.screenshotFormat)},getCanvas(){let e=this.$refs.video;if(!this.ctx){let t=document.createElement("canvas");t.height=e.videoHeight,t.width=e.videoWidth,this.canvas=t,this.ctx=t.getContext("2d")}const{ctx:t,canvas:i}=this;return t.drawImage(e,0,0,i.width,i.height),i}}},n=i("6b0d"),d=i.n(n);const c=d()(o,[["render",a]]);var h=c;function l(e){e.component("vue-web-cam",h)}"undefined"!==typeof window&&window.Vue&&window.Vue.use(l)}});
//# sourceMappingURL=app.d019b8cf.js.map